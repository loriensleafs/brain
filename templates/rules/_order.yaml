# Composition order for AGENTS.md instruction file
# Each entry references a rule file relative to instructions/
# Variables from _variables.yaml are substituted at compose time

sections:
  # Header and identity
  - sections/010-header.md
  - sections/020-identity.md
  - sections/030-required-reading.md
  - "{tool}/040-memory-delegation.md"
  - "{tool}/050-execution-model.md"
  - "{tool}/060-typical-workflow.md"

  # Blocking gates
  - sections/100-initialization-gate.md
  - sections/110-session-protocol.md
  - sections/120-session-start.md
  - sections/130-session-end.md
  - sections/140-memory-bridge.md
  - sections/150-context-recovery.md
  - "{tool}/160-session-extras.md"

  # Commands
  - sections/200-session-commands.md
  - "{tool}/210-tool-commands.md"
  - sections/220-dev-commands.md
  - sections/230-git-commands.md

  # Boundaries
  - sections/300-always-do.md
  - sections/310-ask-first.md
  - sections/320-never-do.md
  - sections/330-commit-messages.md

  # Agent catalog and routing
  - "{tool}/400-agent-catalog.md"
  - sections/410-adr-review.md
  - sections/420-output-paths.md
  - sections/430-task-classification.md
  - sections/440-workflow-patterns.md
  - sections/450-impact-analysis.md
  - sections/460-disagree-commit.md
  - "{tool}/470-extra-patterns.md"

  # Memory architecture
  - sections/500-memory-architecture.md
  - sections/510-entity-mapping.md
  - sections/520-session-entity.md
  - sections/530-observations-relations.md
  - sections/540-quality-thresholds.md
  - sections/550-compliant-note.md
  - sections/560-write-decision-tree.md
  - sections/570-validation.md

  # Memory-first gate
  - sections/600-memory-first-gate.md

  # Reference
  - sections/700-brain-mcp-reference.md
  - sections/710-trigger-phrases.md
  - sections/720-anti-patterns.md
  - sections/730-communication-standards.md
  - sections/740-self-improvement.md
  - sections/750-utilities.md

  # Key documents and responsibilities
  - sections/800-key-documents.md
  - sections/810-critical-constraints.md
  - "{tool}/820-responsibilities.md"
